<!DOCTYPE>
<html>
<head>
  <title>Spam Filter Installer | Simo Ahava</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
</head>
<body class="cover full">
<div class="container">
  <div class="jumbotron coverbox clearfix">
    <h1>Spam Filter Installer</h1>
    <p>This tool lets you automatically create and link referral spam filters to your Google Analytics profiles. The list of spam sources is derived from friends at <a href="http://lonegoatuk.tumblr.com/post/107307494431/google-analytics-referral-spambot-list">Lone Goat</a> and <a href="http://www.analyticscanvas.com/">Analytics Canvas</a>.</p>
    <p>To create and link these filters, you will need <strong>EDIT</strong> access in the Google Analytics accounts you want to modify. This tool will only allow you to access privileged accounts.</p>
    <p>Note that any existing filters with the names <strong>sa_Spam_filter_#N</strong> will be updated if there is a mismatch. Read more about the tool <a href="http://www.simoahava.com/analytics/spam-filter-insertion-tool/">here</a>. Download the source code <a href="https://github.com/sahava/spam-filter-tool">here</a>.</p>
    <hr class="separator">
    <div id="progress"></div>
    <div id="info" class="clearfix">
      <p>Get started by clicking the big, blue button below. You will be asked to authorize this tool to access your Google Analytics data. After doing so, you will be presented with options for filter creation.</p>
      <div style="text-align: center">
        <form autocomplete="off">
          <div>
            <label>clientId</label>
            <input type="text" name="clientId" style="width: 300px;">
          </div>
          <div>
            <label>apiKey</label>
            <input type="text" name="apiKey" style="width: 300px;">
          </div>
          <div>
            <input type="checkbox" name="filter_piwik">
            <label>Use filter list from <a href="https://github.com/piwik/referrer-spam-blacklist">piwik/referrer-spam-blacklist</a></label>
          </div>
        </form>
        <div class="log"></div>
      </div>
      <p class="text-center"><button type="button" class="btn btn-primary btn-lg" id="init">Initialize</button></p>
    </div>
    <div class="col-md-6 form-group" id="accounts"></div>
    <div class="col-md-6 form-group" id="profiles"></div>
    <div class="col-md-12 text-center" id="action"></div>
    <div class="col-md-12"><a href="http://www.google.com/analytics"><img src="google-analytics-logo.png" style="float:right;"/></a></div>
  </div>
</div>
<script src="js/authutil.js"></script>
<script src="js/spamfilter.js"></script>
<script src="https://apis.google.com/js/client.js?onload=handleClientLoad"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
</body>
</html>
